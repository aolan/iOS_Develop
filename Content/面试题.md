# 1. Swift 与 Objective-C 主要区别有哪些？


| 比较项      |    Swift | Objective-C  |
| :-------- | --------| :--: |
| 语言类型  | 强类型、静态类型语言，编译期检查类型错误 |  弱类型、动态类型语言，运行期才检查类型  |
| 语法简洁性  | 1.去除了OC的冗余符号（如分号、@interface/@implementation、#import） 2. 支持类型推断，无需手动声明变量类型 |     |
| 内存管理  | 1、Swift的ARC更智能，支持值类型的Copy-on-Write 2、对闭包的内存管理更清晰 3、Swift可通过weak/strong关键字更直观地处理 |     |
| 类型系统  | 值类型（struct、enum、tuple）和引用类型（class） |  OC中基本都是引用类型（除基本数据类型）  |
| 泛型支持  | Swift原生支持泛型，可定义泛型类、泛型函数、泛型协议，类型安全且代码复用性高 |  OC的泛型支持较弱（仅iOS 7+支持有限泛型，且无编译期检查） |
| 函数式编程  |  Swift支持函数式编程特性（如闭包、高阶函数map/filter/reduce），代码更简洁高效  | OC的block功能有限，函数式编程支持不足   |
| 错误处理  | Swift有完善的错误处理机制（try/catch/throw），可明确捕获和处理错误  |  OC通过NSError指针间接返回错误，错误处理不直观  |
| 安全性  | Swift去除了OC的野指针，可选类型（Optional）强制处理空值，编译期检查类型错误，减少运行时崩溃 | OC容易出现野指针、空指针错误   |
| 互操作性  |  Swift可与OC混编，但需要桥接文件（.h） |  OC无法直接调用Swift的部分特性（如泛型、值类型）  |


# 2.Swift中 struct、class、enum 异同点

1. 相同点
* 支持定义属性、方法、初始化器，也都能通过extension扩展功能、遵循并实现协议。
* 支持public/internal/private等访问控制修饰符，能限制属性 / 方法的可见性。
* 都是 Swift 的强类型，编译期会校验类型匹配，避免运行时类型错误。

2. 不同点

| 比较维度      |    struct | class  |enum  |
| :-------- | :--------| :-- |:-- |
| 类型本质  | 值类型（拷贝传递） |  引用类型（指针传递）  | 值类型（拷贝传递） | 
| 内存分配 | 栈，速度快 | 堆，引用计数管理 | 栈，速度快 |
| 继承性 | 不支持继承 | 支持单继承 | 不支持继承 |
| 标识比较 | 无（比较值是否相等） | 支持===（比较指针） | 无（比较枚举成员 / 关联值） |
| 析构函数（deinit） | 无（栈内存自动释放） | 有（堆内存释放时执行） | 无（栈内存自动释放） |
| 可变性 | 方法需mutating修饰才能修改属性 | 方法默认可修改属性 | 方法需mutating修饰才能修改关联值 / 原始值 |
| 特有特性 | 自动生成成员初始化器 | 支持析构、动态派发、单例 | 支持关联值（Associated Values）、原始值（Raw Values） |
| 使用场景 | 数据载体（如模型、工具类） | 业务逻辑对象（如控制器、管理器） | 状态/选项枚举 |


# 3. Swift中的值类型和引用类型有什么区别？各自的代表类型有哪些？如何理解值类型的Copy-on-Write机制？

1. 核心区别
   
| 比较项      |    值类型 | 引用类型  |
| :-------- | :--------| :------ |
| 存储方式 | 值类型直接存储数据本身，存储在栈中（部分复杂值类型可能存储在堆中，但访问方式仍为值语义）| 存储的是数据的内存地址（指针），数据本身存储在堆中，指针存储在栈中 |
| 赋值行为 | 值类型赋值时，会创建一个新的副本（深拷贝），修改新副本不会影响原对象 | 引用类型赋值时，仅复制指针，新对象和原对象指向同一块堆内存，修改新对象会影响原对象。 |
| 生命周期 | 值类型的生命周期与所在作用域一致，作用域结束后自动销毁  | 引用类型的生命周期由ARC管理，当没有强引用指向时，堆内存中的数据才会被销毁 |
| 线程安全 | 值类型默认是线程安全的，因为每个线程都有独立的副本 | 引用类型不是线程安全的，多线程访问同一引用类型对象可能导致数据竞争 |
| 代表类型 | struct（如Int、String、Array、Dictionary、Set）、enum（如Optional、Result）、tuple（元组） | class（如UIViewController、UIView）、closure（闭包，捕获外部变量时）、function（函数，作为参数或返回值时）。 |
